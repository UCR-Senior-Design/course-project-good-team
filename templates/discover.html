<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Discover - Friendify</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/discover_styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> <!--need this for the play button over album covers-->

</head>
<body>

<div class="container">
    <nav class="navbar">
        <div class="logo">
            <img src="{{ icon_link }}">
        </div>
        <div class="welcome">
            <span class="weltext">Welcome to <span class="friend">Friendify</span>, <span id="username">{{ session_username }}</span></span>
        </div>
        <ul class="nav--list">
            <li class="item"><button><a href="/">Home</a></button></li>
            <li class="item"><button><a href="/about">About</a></button></li>
            <li class="item"><button><a href="/profile/{{ session['username'] }}">Profile</a></button></li>
            <li class="item"><button><a href="/friends">Friends</a></button></li>
            <li class="discover"><button><a href="/discover" class="disc">Discover</a></button></li>
            {% if is_logged_in %}
            <li class="logout"><button><a href="/logout" class="out">Logout</a></button></li>
            {% else %}
            <li class="item"><button><a href="https://accounts.spotify.com/authorize?..." class="log">Login</a></button></li>
            {% endif %}
        </ul>
    </nav>
</div>

<div class = "sidebar-container" id = "side">
    <div class = "sidebar">
        <label for="touch1" class="tool"><p>COOL <span class="friend">MUSIC</span> STUFF</p></label>
        <input type="checkbox" id="touch1">
        <ul class="slide1">
            <li class = "sidebutton"><button onclick="window.location.href='/discover?random_song=true'" id="random-song-btn"><a>Random Song</a></button></li> 
            <li class = "sidebutton"><button><a>Friend's Songs</a></button></li>
            <li class = "sidebutton"><button><a>placeholder</a></button></li>
        </ul>
        <label for="touch2" class = "tool"><p><span class = "friend">Placeholder</span></p></label>
        <input type="checkbox" id="touch2">
        <ul class="slide2">
            <li class = "sidebutton"><button><a>placeholder</a></button></li> 
            <li class = "sidebutton"><button><a>placeholder</a></button></li>
            <li class = "sidebutton"><button><a>placeholder</a></button></li>
        </ul>
        
        <label for="touch3" class = "tool"><p><span class = "friend">Placeholder</span></p></label>
        <input type="checkbox" id="touch3">
        <ul class="slide3">
            <li class = "sidebutton"><button><a href="#">placeholder</a></button></li> 
            <li class = "sidebutton"><button><a href="#">placeholder</a></button></li>
            <li class = "sidebutton"><button><a href="#">placeholder</a></button></li>
        </ul>
        <button class="closebtn" id="closebtn" onclick="closeNav()">X Close Sidebar</button>
    </div>
</div>



<div class="content">
    <h2>{{ "Random Song Recommendation" if random_song else "The #1 song in the world right now is:" }}</h2>
    <div class="song-details">
        <div class="album-cover">
            <a href="{{ song_details.spotify_url }}" target="_blank">
                <img src="{{ song_details.album_image_url }}" alt="Song album cover">
                <div class="play-overlay"><i class="fa fa-play-circle" aria-hidden="true"></i></div>
            </a>
        </div>
        <p>{{ song_details.song_name }} by {{ song_details.artist_name }}</p>
        {% if random_song %}
        <button><a href="{{ url_for('discover', random_song='true') }}" class="btn">Generate New Random Song</a></button>
        {% endif %}
    </div>
</div>


<div id = "opens">
    <button class="openbtn hidden" id ="openbtn"onclick="openNav()">â˜° Open Sidebar</button>
</div>

<script>
    function openNav() {
    document.getElementById("side").style.width = "250px";
    document.getElementById("openbtn").classList.add("hidden")

    }

    function closeNav() {
    document.getElementById("side").style.width = "0px";
    document.getElementById("openbtn").classList.remove("hidden")
    }
</script>


</body>
</html>
